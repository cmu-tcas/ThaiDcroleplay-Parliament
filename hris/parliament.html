<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Portal HRIS</title>
        <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="bootstrap/css/bootstrap-responsive.min.css">
        <!-- breadcrumbs-->
        <link rel="stylesheet" href="/css/main.css">
        <!-- tooltips-->
        <link rel="stylesheet" href="/css/hris.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bai+Jamjuree:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="css/css.css">
        <!--[if lte IE 9]>
            <link rel="stylesheet" href="css/ie.css" />
            <script src="js/ie/html5.js"></script>
        <![endif]-->
		<!--[if lte IE 8]>
            <link rel="stylesheet" href="css/ie.css" />
            <script src="js/ie/html5.js"></script>
        <![endif]-->
        <style type="text/css">
            <!--
            th {
                text-align: center;
            }
            -->
        </style>
        <script type="text/javascript">
            function MM_preloadImages() { //v3.0
                var d = document;
                if (d.images) {
                    if (!d.MM_p)
                        d.MM_p = new Array();
                    var i, j = d.MM_p.length, a = MM_preloadImages.arguments;
                    for (i = 0; i < a.length; i++)
                        if (a[i].indexOf("#") != 0) {
                            d.MM_p[j] = new Image;
                            d.MM_p[j++].src = a[i];
                        }
                }
            }

            function MM_swapImgRestore() { //v3.0
                var i, x, a = document.MM_sr;
                for (i = 0; a && i < a.length && (x = a[i]) && x.oSrc; i++)
                    x.src = x.oSrc;
            }

            function MM_findObj(n, d) { //v4.01
                var p, i, x;
                if (!d)
                    d = document;
                if ((p = n.indexOf("?")) > 0 && parent.frames.length) {
                    d = parent.frames[n.substring(p + 1)].document;
                    n = n.substring(0, p);
                }
                if (!(x = d[n]) && d.all)
                    x = d.all[n];
                for (i = 0; !x && i < d.forms.length; i++)
                    x = d.forms[i][n];
                for (i = 0; !x && d.layers && i < d.layers.length; i++)
                    x = MM_findObj(n, d.layers[i].document);
                if (!x && d.getElementById)
                    x = d.getElementById(n);
                return x;
            }

            function MM_swapImage() { //v3.0
                var i, j = 0, x, a = MM_swapImage.arguments;
                document.MM_sr = new Array;
                for (i = 0; i < (a.length - 2); i += 3)
                    if ((x = MM_findObj(a[i])) != null) {
                        document.MM_sr[j++] = x;
                        if (!x.oSrc)
                            x.oSrc = x.src;
                        x.src = a[i + 2];
                    }
            }
        </script>
    </head>
<body class="sidebar_hidden gebo-fixed">
    <header>
      <nav>
        <div class="logo">
          <a href="/">
            <img src="/
		    h-logo.png">
          </a>
        </div>
        <div class="flex">
          <ul>
            <li>
              <a style="cursor:pointer;">เกี่ยวกับรัฐสภา</a>
              <ul>
                <li><a href="#">สมาชิกสภาผู้แทนราษฎร</a></li>
                <li><a href="">ประธานรัฐสภา</a></li>
                <li><a href="">รองประธานรัฐสภา</a></li>
                <li><a href="">ทำเนียบประธานรัฐสภา</a></li>
              </ul>
            </li>
            <li>
              <a style="cursor:pointer;">การประชุม</a>
              <ul>
                <li><a href="">ระเบียบวาระการประชุม</a></li>
                <li><a href="">บันทึกการประชุม</a></li>
                <li><a href="">บันทึกการออกเสียงลงคะแนน</a></li>
                <li><a href="">รายงานการประชุม</a></li>
                <li><a href="">สรุปผลการประชุม</a></li>
                <li><a href="">ข้อบังคับการประชุม</a></li>
              </ul>
            </li>
            <li>
              <a style="cursor:pointer;">คณะกรรมาธิการ</a>
              <ul>
                <li><a href="">คณะกรรมาธิการ</a></li>
                <li><a href="">สมาชิกคณะกรรมาธิการ</a></li>
                <li><a href="">รายงานคณะกรรมาธิการ</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>
    </header>
        <div id="maincontainer" class="clearfix">
	        <div id="contentwrapper" ondragstart="return false;" ondrop="return false;">
		        <div class="main_content">	
				<div class="flex" style=" align-items: center; justify-content: space-between; ">
					<h3>ประวัติสมาชิกสภาผู้แทนราษฎร</h3>
					<div class="dropdown">
					    <select name="data_set" id="data_set">
						<option value="special_set">ชุดแต่งตั้ง</option>
						<option value="set1" selected="">ชุดที่ 1</option>
						<option value="set2">ชุดที่ 2</option>
					    </select>
					</div>
				</div>
				<div class="row-fluid">
					<div class="span12" id="user-list">
						<ul class="list user_list" id="member_list"></ul>
					</div>
				</div>
			</div>
		</div>
        </div>
	<script>
		// ดึงข้อมูลจาก /data/member.json
		fetch('/data/member.json')
		  .then(response => {
		    if (!response.ok) {
		      throw new Error('Network response was not ok ' + response.statusText);
		    }
		    return response.json();
		  })
		  .then(data => {
		    const dataSetDropdown = document.getElementById('data_set');
		    const memberList = document.getElementById('member_list');
		
		    // ฟังก์ชันสำหรับแสดงข้อมูลสมาชิก
		    function populateMembers(members) {
		      memberList.innerHTML = ''; // ล้างรายการก่อนหน้า
		      members.forEach(member => {
		        const memberElement = document.createElement('li');
		        memberElement.classList.add('tb_p29');
		        memberElement.innerHTML = `
		          <span class="label label-info">
		            &nbsp;เลขประจำตัวสมาชิก : ${member.id_member}&nbsp;
		          </span>
		          <span class="thumbnail pull-left" style="margin-right:10px;">
		            <img alt="รูปสมาชิก" src="${member.img_member}" style="width:95px; height:127px; display:block;">
		          </span>
		          <h4>${member['th-f-name_member']} ${member['th-s-name_member']}</h4>
		          <h4>สมาชิกสภาผู้แทนราษฎรแบบบัญชีรายชื่อ</h4>
		          <h4>${member.party_member}</h4>
		          <br><br><br>
		        `;
		        memberList.appendChild(memberElement);
		      });
		    }
		
		    // แสดงข้อมูลเริ่มต้น (ชุดที่ 1)
		    populateMembers(data.set1);
		
		    // เปลี่ยนชุดข้อมูลเมื่อเลือก dropdown
		    dataSetDropdown.addEventListener('change', () => {
		      const selectedSet = dataSetDropdown.value;
		      if (data[selectedSet]) {
		        populateMembers(data[selectedSet]);
		      } else {
		        console.error('ชุดข้อมูลที่เลือกไม่มีอยู่ใน JSON');
		      }
		    });
		  })
		  .catch(error => {
		    console.error('Error fetching the data:', error);
		  });

	</script>
</body>
</html>
